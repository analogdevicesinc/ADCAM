# Raw File Parser Example

### Overview
This example takes raw file as an input and extracts the depth, absolute brightness confidence and point cloud data.
depth frame, AB frame and confidence frame(if qmp mode) are  saved as `.png` while point cloud data is saved as `.ply` 
An `.mp4` file is also generated showing  both AB and depth frames.
metadata is saved as a text file.

Usage:
- put raw recording files in the same directory of the `rawparser.py`
- run `python rawparser.py --filename [RAW_RECORDING_FILENAME]`

A folder with the same name as the raw recording file will be created
first point cloud frame 3d image will be visualized. Close the visualize window to proceed saving all data
`.png` files for each frame of AB, Depth and confidence data will be found in the folder created

### Dependencies
```
pip install opencv-python
pip install numpy
pip install open3d
pip install argparse
```

---

## PNG and PLY Visualizer

The `rawparser_visualize.py` script allows you to visualize the PNG and PLY files generated by the raw parser.

### Usage Examples

**View metadata:**
```bash
python rawparser_visualize.py --directory ./recording_output --view metadata
```
Prints the first `metadata*.txt` file to console.

**View PNG files:**
```bash
python rawparser_visualize.py --directory ./recording_output --view png
```
Displays a combined window showing AB, Depth, and Confidence images side-by-side.

**View point cloud:**
```bash
python rawparser_visualize.py --directory ./recording_output --view pointcloud
```
Opens an interactive 3D visualization of the first `pointcloud*.ply` file.

**Default behavior (shows all):**
```bash
python rawparser_visualize.py --directory ./recording_output
```
Displays metadata, PNG images, and point cloud sequentially.

### Features
- **Combined PNG display**: Shows AB, Depth, and Confidence in a single window with labels
- **View mode selection**: Choose to view only metadata, PNG files, or point clouds
- **Interactive 3D visualization**: Open3D viewer for point clouds with rotation, zoom, and pan
- **Auto-detection**: Automatically finds the first file of each type in the directory

